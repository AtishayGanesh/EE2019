Version 4
SHEET 1 3780 2260
WIRE 624 -128 -32 -128
WIRE -432 -32 -432 -96
WIRE 2384 -32 2208 -32
WIRE 2704 -16 2448 -16
WIRE 2384 0 2336 0
WIRE 528 16 400 16
WIRE 624 16 624 -128
WIRE 624 16 608 16
WIRE 1408 16 1296 16
WIRE 1504 16 1488 16
WIRE 96 48 80 48
WIRE 208 48 160 48
WIRE 2704 48 2704 -16
WIRE 2816 48 2704 48
WIRE 3008 48 2880 48
WIRE 3120 48 3072 48
WIRE 3264 48 3200 48
WIRE -640 64 -640 -16
WIRE 2336 64 2336 0
WIRE 2368 64 2336 64
WIRE 1120 80 896 80
WIRE 1200 80 1184 80
WIRE 1216 80 1200 80
WIRE 1296 80 1296 16
WIRE 1296 96 1296 80
WIRE 1344 96 1296 96
WIRE 2208 96 2208 -32
WIRE 3344 96 3328 96
WIRE 1504 112 1504 16
WIRE 1504 112 1408 112
WIRE 1536 112 1504 112
WIRE 624 128 624 16
WIRE 624 128 544 128
WIRE 2640 128 2432 128
WIRE 400 144 400 16
WIRE 400 144 352 144
WIRE 480 144 400 144
WIRE 2368 144 2368 64
WIRE 2432 144 2432 128
WIRE 2432 144 2368 144
WIRE -32 176 -32 -128
WIRE 80 176 80 48
WIRE 80 176 48 176
WIRE 96 176 80 176
WIRE 208 192 208 48
WIRE 208 192 160 192
WIRE 272 192 272 144
WIRE 272 192 208 192
WIRE 1200 192 1200 80
WIRE 1536 192 1200 192
WIRE 3344 192 3344 96
WIRE 3536 192 3344 192
WIRE 2208 208 2208 96
WIRE 2400 256 2368 256
WIRE 2400 272 2400 256
WIRE 2704 272 2704 48
WIRE 2704 272 2400 272
WIRE 272 304 272 192
WIRE 2784 304 2720 304
WIRE 2976 304 2848 304
WIRE 2720 336 2720 304
WIRE 2832 336 2720 336
WIRE 3344 336 3344 192
WIRE 2368 384 2368 256
WIRE 2464 384 2368 384
WIRE 2640 384 2640 128
WIRE 2768 384 2640 384
WIRE 2832 384 2832 336
WIRE 3040 384 3040 304
WIRE 3056 384 3040 384
WIRE 3280 384 3136 384
WIRE 2464 400 2416 400
WIRE 2640 400 2640 384
WIRE 2640 400 2528 400
WIRE 2416 416 2416 400
WIRE 2416 416 2368 416
WIRE 3536 416 3536 192
WIRE 3552 416 3536 416
WIRE 2208 464 2208 272
WIRE 2368 464 2368 416
WIRE 2368 464 2208 464
WIRE 3632 512 3632 416
WIRE 3680 512 3632 512
WIRE 3696 512 3680 512
WIRE 2384 560 2208 560
WIRE 2704 576 2448 576
WIRE 2384 592 2336 592
WIRE 2704 592 2704 576
WIRE 2800 592 2704 592
WIRE 3056 592 2928 592
WIRE 3232 592 3136 592
WIRE 3680 592 3680 512
WIRE 3680 592 3616 592
WIRE 3696 592 3680 592
WIRE 2336 656 2336 592
WIRE 2368 656 2336 656
WIRE 3616 656 3616 592
WIRE 2208 672 2208 560
WIRE 2368 736 2368 656
WIRE 2672 736 2368 736
WIRE 2208 800 2208 672
WIRE 3296 800 3296 640
WIRE 3536 800 3536 656
WIRE 3536 800 3296 800
WIRE 2704 848 2704 592
WIRE 2704 848 2368 848
WIRE 2832 848 2736 848
WIRE 3024 848 2896 848
WIRE 3104 848 3088 848
WIRE 2736 896 2736 848
WIRE 2896 896 2736 896
WIRE 3296 928 3296 800
WIRE 3344 928 3296 928
WIRE 2368 976 2368 848
WIRE 2464 976 2368 976
WIRE 2672 976 2672 736
WIRE 2832 976 2672 976
WIRE 2896 976 2896 896
WIRE 3104 976 3104 848
WIRE 3280 976 3184 976
WIRE 2464 992 2416 992
WIRE 2672 992 2672 976
WIRE 2672 992 2528 992
WIRE 2416 1008 2416 992
WIRE 2416 1008 2368 1008
WIRE 2208 1056 2208 864
WIRE 2368 1056 2368 1008
WIRE 2368 1056 2208 1056
FLAG 128 224 Vss
FLAG 512 160 Vss
FLAG -640 -16 Vss
FLAG 96 208 Vcm
FLAG 480 112 Vcm
FLAG -640 64 0
FLAG -864 64 0
FLAG 624 128 VO
FLAG 208 192 Vmid
FLAG 512 96 Vdd
FLAG 128 160 Vdd
FLAG -864 -16 Vdd
FLAG -432 -96 Vcm
FLAG -432 48 0
FLAG -272 -64 Vbias
FLAG -272 16 0
FLAG -320 272 Vref
FLAG -320 352 0
FLAG 1344 128 Vcm
FLAG 1536 112 vina-
FLAG 1536 192 vina+
FLAG 816 80 0
FLAG 1376 80 Vdd
FLAG 1376 144 0
FLAG 1792 48 Vdd
FLAG 1792 240 Vdd
FLAG 1792 112 0
FLAG 1792 304 0
FLAG 1760 64 vmid
FLAG 1760 256 vmid
FLAG 1760 288 vina-
FLAG 1760 96 vina+
FLAG 1824 80 vpwmp
FLAG 1824 272 vpwmn
FLAG 2304 144 0
FLAG 2304 256 0
FLAG 2304 736 0
FLAG 2304 848 0
FLAG 2208 96 vpwmp
FLAG 2208 672 vpwmn
FLAG 3296 544 Vdd
FLAG 3328 0 Vdd
FLAG 3344 432 0
FLAG 3344 1024 0
DATAFLAG 272 192 ""
SYMBOL Opamps\\UniversalOpamp2 128 192 R0
SYMATTR InstName U1
SYMBOL res 64 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R
SYMATTR Value 5k
SYMBOL res 368 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 624 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 50k
SYMBOL cap 160 32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C
SYMATTR Value 2.5n
SYMBOL voltage -864 -32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VIN
SYMATTR Value 5
SYMBOL voltage -432 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 2.5
SYMBOL Comparators\\LTC6752 512 64 R0
SYMATTR InstName U3
SYMBOL voltage -272 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 2.5
SYMBOL voltage -320 256 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 2
SYMATTR Value 50m
SYMATTR InstName V1
SYMBOL voltage 912 80 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE(0 0.5 1k)
SYMBOL cap 1184 64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL res 1312 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 1504 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL Opamps\\UniversalOpamp2 1376 112 R0
SYMATTR InstName U5
SYMBOL Comparators\\LTC6752 1792 16 R0
SYMATTR InstName U6
SYMBOL Comparators\\LTC6752 1792 208 R0
SYMATTR InstName U7
SYMBOL Digital\\inv 2272 208 R90
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A10
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\and 2416 -96 R0
WINDOW 3 -35 -179 Invisible 2
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A11
SYMATTR Value2 Trise=50n Tfall=50n Td=50n
SYMBOL Digital\\and 2496 320 R0
WINDOW 3 -4 207 Invisible 2
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A12
SYMATTR Value2 Trise=50n Tfall=50n Td=50n
SYMBOL cap 2368 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value {Cc}
SYMBOL Digital\\inv 2272 800 R90
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A19
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\and 2416 496 R0
WINDOW 3 -35 -179 Invisible 2
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A20
SYMATTR Value2 Trise=50n Tfall=50n Td=50n
SYMBOL Digital\\and 2496 912 R0
WINDOW 3 -4 207 Invisible 2
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A21
SYMATTR Value2 Trise=50n Tfall=50n Td=50n
SYMBOL pnp 3264 96 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL pnp 3232 640 M180
SYMATTR InstName Q2
SYMATTR Value 2N3906
SYMBOL npn 3280 336 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL npn 3280 928 R0
SYMATTR InstName Q5
SYMATTR Value 2N3904
SYMBOL res 3632 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 16
SYMBOL res 3648 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 16
SYMBOL Digital\\inv 2800 528 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A13
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2864 528 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A14
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2832 912 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A15
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2768 320 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A17
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2816 -16 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A18
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 3008 -16 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A22
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL cap 2368 832 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cc}
SYMBOL cap 2368 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {Cc}
SYMBOL cap 2368 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value {Cc}
SYMBOL res 3216 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL res 3152 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value {R}
SYMBOL res 3152 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {R}
SYMBOL res 3200 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value {R}
SYMBOL Digital\\inv 2784 240 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A1
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2976 240 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A2
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 2832 784 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A3
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
SYMBOL Digital\\inv 3024 784 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh=5 Vlow=0
SYMATTR InstName A4
SYMATTR Value2 Trise=5n Tfall=5n Td=5n
TEXT -672 176 Left 2 !.tran 0 10m 0
TEXT -784 -168 Left 2 ;ic V(Vmid) 2.5
TEXT 1032 768 Left 2 !.ic V(vina-) =2.5V
TEXT 1064 704 Left 2 !.ic V(vina+) =2.5V
TEXT 1472 704 Left 2 !.param Cc=10n
TEXT 1560 744 Left 2 !.param R =1k
